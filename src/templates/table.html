<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ss.lv cars</title>
</head>

<body>
    <table >
        {% for car in cars %}
        <tr>
            <td rowspan="1">{{car.brand}}</td>
            <td rowspan="1">{{car.model}}</td>
            <td rowspan="1">
                <img src="{{car.tiny_img_url}}" alt="car">
            </td>
            <td rowspan="1" style="text-align:left;height:80px;">
                <a href="{{car.ss_url}}" style="width:100%;height:100%;display:block;align-content:center;">
                {{car.description}}
                </a>
            </td>
            <td data-score={{(car.power) * 100 / 300}}>{{car.power}} kW</td>
            <td data-score={{(30-(2024-car.year)) * 100 / 20}}>{{car.year}}</td>
            <td>{{car.tdo_15}}</td>
            <td>{{car.mileage}} km</td>
            <td data-score={{(15000-car.price) * 100 / 9000}}>{{car.price}} €</td>
            <td>
                <a href="{{car.ss_url}}">{{car.id}}</a>
            </td>
        </tr>
        {% endfor %}
    </table>
    <style>
        table {
            width: 100%;
            border-collapse: collapse;
        }

        table td {
            border: 1px solid black;    
            padding:5px;
            text-align:center;
            overflow:hidden;
        }
        
        table td:not(:nth-child(3)) {
            padding: 10px;
        }

        img {
            width: 100px;
        }
    </style>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var cells = document.querySelectorAll('td[data-score]');
            cells.forEach(function(cell) {
              var score = parseInt(cell.getAttribute('data-score'), 10);
              var green = Math.floor(255 * (score / 100));
              var red = 255 - green;
              cell.style.backgroundColor = `rgb(${red}, ${green}, 0)`;
            });
          });
    </script>          
</body>

</html>
<!-- <tr id="tr_53735987" style="cursor: pointer; background-color: rgb(255, 255, 255);"><td class="msga2 pp0"><input type="checkbox" id="c53735987" name="mid[]" value="53735987_3237_0"></td><td class="msga2"><a href="/msg/lv/transport/cars/skoda/octavia/aomjf.html" id="im53735987"><img src="https://i.ss.lv/gallery/6/1134/283313/56662401.th2.jpg" alt="" class="isfoto foto_list"></a></td><td class="msg2"><div class="d1"><a data="JTdDZyU5NiVBOGglN0UlRDV5JTk4JTgxZiU5NCVBM24lODElOEZ4JTlBJTdFZiU5QyVBN20=|K2dp6NYHc" id="dm_53735987" class="am" href="/msg/lv/transport/cars/skoda/octavia/aomjf.html">Auto ir ļoti laba stavokli, viss ka vajadzeja ir atremontets, restaureta</a></div></td><td class="msga2-o pp6" nowrap="" c="1"><a onclick="return false;" href="https://www.ss.lv/msg/lv/transport/cars/skoda/octavia/aomjf.html" class="amopt">Skoda<br>Octavia</a></td><td class="msga2-o pp6" nowrap="" c="1"><a onclick="return false;" href="https://www.ss.lv/msg/lv/transport/cars/skoda/octavia/aomjf.html" class="amopt">2014</a></td><td class="msga2-o pp6" nowrap="" c="1"><a onclick="return false;" href="https://www.ss.lv/msg/lv/transport/cars/skoda/octavia/aomjf.html" class="amopt">1.6D</a></td><td class="msga2-r pp6" nowrap="" c="1"><a onclick="return false;" href="https://www.ss.lv/msg/lv/transport/cars/skoda/octavia/aomjf.html" class="amopt">538 tūkst.</a></td><td class="msga2-o pp6" nowrap="" c="1"><a onclick="return false;" href="https://www.ss.lv/msg/lv/transport/cars/skoda/octavia/aomjf.html" class="amopt">4,500  €</a></td></tr> -->